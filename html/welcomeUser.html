<!-- Contributor: Waleed Ali -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/css/welcomeUser.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700;800&display=swap" rel="stylesheet">
  <title>Welcome</title>
</head>

<body>
  <div class="Welcome">
    <h1>Welcome, <span id="username"></span></h1>
    <button class="button-changePW" id="change-password" onclick="redirectToChangePassword()">Change password</button>
    <button class="button-logout" id="logout" onclick="redirectToIndex()">Logout</button>
  </div>
  <div class="border"></div>
  <div class="buttons">
    <button class="button" id="daily-planner" onclick="redirectToPlanner()">Daily Planner</button>
    <button class="button" id="fitness-tracker" onclick="redirectToFitnessTracker()">Fitness Tracker</button>
    <button class="button" id="finance-tracker">Finance Tracker</button>
  </div>

  <div class="motivationalQuotes"></div>

  <script>
    // Extract the username from the URL parameter
    const urlParams = new URLSearchParams(window.location.search);
    const username = urlParams.get('username');
    document.getElementById('username').textContent = username;

    fetch('./quotes.txt')
      .then(response => response.text())
      .then(text => {
        // Split the file contents into an array of lines
        const quotes = text.split('\n');

        // Select a random quote from the array
        const randomIndex = Math.floor(Math.random() * quotes.length);
        const randomQuote = quotes[randomIndex];

        // Display the quote in the "motivationalQuotes" div
        const div = document.querySelector('.motivationalQuotes');
        console.log(randomQuote)
        div.textContent = randomQuote;
      });
    function redirectToFitnessTracker() {
      const urlParams = new URLSearchParams(window.location.search);
      const username = urlParams.get('username');
      window.location.href = `/fitnessTracker.html?username=${username}`;
    }
    function redirectToChangePassword() {
      const urlParams = new URLSearchParams(window.location.search);
      const username = urlParams.get('username');
      window.location.href = `/changePassword.html?username=${username}`;
    }
    function redirectToIndex() {
      const urlParams = new URLSearchParams(window.location.search);
      const username = urlParams.get('username');
      window.location.href = `/index.html`;
    }
    function redirectToPlanner() {
      const urlParams = new URLSearchParams(window.location.search);
      const username = urlParams.get('username');
      console.log(username)
      window.location.href = `/dailyplanner.html?username=${username}`;
    }
    // Update the username in the h1 tag
  </script>
</body>

</html>
